(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-wxUserInfo-wxUserInfo"],{"09b2":function(e,t,n){var o=n("25c5");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("4f1ac108",o,!0,{sourceMap:!1,shadowMode:!1})},"13d1":function(e,t,n){"use strict";n.r(t);var o=n("78d2"),i=n("6231");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("a70d");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"222dcd64",null,!1,o["a"],r);t["default"]=s.exports},"1de5":function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},"25c5":function(e,t,n){var o=n("24fb"),i=n("1de5"),a=n("d053");t=o(!1);var r=i(a);t.push([e.i,".container[data-v-222dcd64]{width:100%;height:100vh;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#5fc2ff));background:-webkit-linear-gradient(#fff,#5fc2ff);background:linear-gradient(#fff,#5fc2ff)}.login-box[data-v-222dcd64]{width:100%;height:auto;position:absolute;top:%?300?%;left:0}.login-box .welcome[data-v-222dcd64]{line-height:%?60?%;padding-left:%?48?%;font-size:%?42?%}.login-box .welcome-1[data-v-222dcd64]{line-height:%?66?%;padding-left:%?48?%;font-size:%?48?%;font-weight:700;margin-top:%?32?%}.login-box .login-btn[data-v-222dcd64]{width:%?636?%;padding-left:%?130?%;height:%?96?%;line-height:%?96?%;background-color:#5fc2ff;background-image:url("+r+");background-repeat:no-repeat;background-position:%?470?% %?30?%;background-size:%?40?% %?40?%;-webkit-border-radius:%?48?%;border-radius:%?48?%;font-size:%?36?%;color:#fff;text-align:left;margin-top:%?180?%}.login-box .login-other[data-v-222dcd64]{line-height:%?42?%;font-size:%?30?%;text-align:center;margin:%?48?% auto 0;color:#696969}",""]),e.exports=t},"4a6e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{wxAuthCode:"",canIUseGetUserProfile:!1}},onLoad:function(){wx.getUserProfile&&(this.canIUseGetUserProfile=!0)},onShow:function(){this.wxLogin()},methods:{getUserProfile:function(){var e=this;wx.getUserProfile({lang:"zh_CN",desc:"用于完善会员资料",success:function(t){e.getWxUserInfo({detail:t})}})},wxLogin:function(){var e=this;uni.login({provider:"weixin",success:function(t){console.log("login success:",t),e.wxAuthCode=t.code?t.code:""},fail:function(e){console.log("login fail:",e)}})},getPhoneNumber:function(e){console.log(e),this.getWxUserInfo(e)},getWxUserInfo:function(e){var t=this,n={code:this.wxAuthCode,encryptedData:e.detail.encryptedData,iv:e.detail.iv,mobile:uni.getStorageSync("mobile"),villagerWxBind:!1};this.$api.wxGetUserInfo(n).then((function(n){t.$toast("绑定微信成功"),uni.setStorageSync("needBindingWx",!1),uni.setStorageSync("token",n.token),uni.setStorageSync("role",1),uni.setStorageSync("userInfo",e.detail.userInfo),uni.redirectTo({url:"../index/index"})})).catch((function(e){t.wxLogin()}))},goLogin:function(){uni.navigateTo({url:"../login/login"})}}};t.default=o},6231:function(e,t,n){"use strict";n.r(t);var o=n("4a6e"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"78d2":function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"login-box"},[n("v-uni-view",{staticClass:"welcome-1"},[e._v("请完善个人信息")]),e.canIUseGetUserProfile?n("v-uni-button",{staticClass:"login-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getUserProfile.apply(void 0,arguments)}}},[e._v("授权微信用户信息")]):n("v-uni-button",{staticClass:"login-btn",attrs:{"open-type":"getUserInfo"},on:{getuserinfo:function(t){arguments[0]=t=e.$handleEvent(t),e.getWxUserInfo.apply(void 0,arguments)}}},[e._v("授权微信用户信息")])],1)],1)},a=[]},a70d:function(e,t,n){"use strict";var o=n("09b2"),i=n.n(o);i.a},d053:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAC8UlEQVRYR82YT4jNURTHP98FKwmxEJJYWZF/C7EwRQaTGWvbmVKKWCilbFgRRSlLW2ZGRv5MWKAwU6ys/MmfmRIrsT46uvN67/d+v/f73fe7T+7yvXPO/fzOuefce474z5f+cz5qA5rZGmA9sBpYGD74J/AJeCvpYx0ndAVoZtuBw0A/sKoE4CtwF7gh6XksbBSgme0BzgLbYjcK8q+AM5IeVNWvBGhmS4FrwKGqhkvkRoERST/K7JUCmtlmYAxYWWYs8v8ZYFDSVCe9joBmtgu4DSyI3Lyq+C/goKRHRQqFgMFzT3oIN8fkkH2S/Hy2rVzAcOZe9yCsRY7ycG+U9D0rUAR4M2FCVA33qKS2JGwDDKXkflWrQc6L8nJgfqReVrxf0r3mH/MAX0TWuTFJQ2bmtdE/bFENyClJWwsBww3xLHKDCUkHXMfMtgAPa0LulPR0jqHFg2bmxXgkEtDFL0o6kQjyuqThIsDPFe7WIv4Lkk4mgJyR1LgUGh4Mr5IPXXivWSUV5DpJ791wM+A+YKImoKungByQdCcLeAS4mgAwBeRRSVeygKeA84kAs5AD4U6vav60pHO9Brwk6XhImv3A35BVXLmAKUN8WdKxALcJmAQWV4RzsdwQx35l0X514dxubpJ481O3zKSAc8D2MhPC8aXGEysV3KykFUU3SbdXXSo45+p41Xk7GftYmJS0u0ZCZM9y8WMhbPISaHnylGSf9xMO6Nnq7WRMtmZNT0vyF1FjpXqwfgOWAPMiSkmeaPmDNXjxFjBUc7NY9XFJg1mlTk3TG6CRTbG7RcrPAhsqN03Bi34WHv+DtvN3aDv97Letssa9DxjvIaTD+XTBr8LcVWX04Rnts5TU4fawDknK9VxuoS76CjNbFoZHqRLHozKcd+YqJUkH0L1h/NZSqyISYjqM31p63076pSHOUzazHU0DzLLQeyjnBpiNdrLqR3UF2GzczNYWjIC9Q/QR8LuqMNFZXMdwKt3aHkwFUmTnD0WlFzgrpgKHAAAAAElFTkSuQmCC"}}]);